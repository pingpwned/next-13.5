
# Next.js 13.5 Project with React Server Components and App Router

The approach of this project is to demonstrate the implementation and usage of React Server Components and App Router, along with essential features such as a GraphQL endpoint, Apollo Client for data fetching, and Next-intl localization. It provides a practical foundation for building web applications with a focus on these key technologies.

### TODO:

- ✅ Implement GraphQL server endpoint as `/api/graphql`
- ✅ Implement Client query to send query to GraphQL Endpoint
- ✅ Describe dictionary query to return data based on locale query
- ✅ Implement NextIntlClientProvider for client
- ✅ Cache response on server
- ⬜️ Implement Jest & Cypress

## 🚀 Features

### GraphQL API (/api/graphql)

- 🌟 Implements a GraphQL POST endpoint using `@apollo/server` and `@as-integrations/next`.
- 💡 Leverages the power of GraphQL for efficient data fetching.

### Server-Side APIs (/api/getAppDate and /api/getMessages)

- 🚀 Utilizes Server-Side `@apollo/experimental-nextjs-app-support/rsc` for optimized requests.
- 🧭 Custom cache utility on the server side for enhanced performance.

### Internationalization Middleware

- 🌐 Implements localization middleware using `next-intl`.
- 🌍 Provides language-switching functionality with a user-friendly UI.

### Authentication Middleware

- 🔐 Simulates authentication via single sign-on (SSO) service.
- 🍪 Checks for an AccessToken cookie in incoming requests.
- 🚦 Redirects users to the SSO service page for authentication.
- 🔑 Upon successful authentication, users are redirected back with an AccessToken.

## 📄 API Endpoints

1. **GraphQL API**: `/api/graphql`
   - Accessible via POST requests.

2. **Get App Date**: `/api/getAppDate`
   - Retrieves the current timestamp generated by the GraphQL server.
   - Accessible via GET requests.

3. **Get Messages**: `/api/getMessages`
   - Expects a `locale` query parameter for translation.
   - Accessible via GET requests.

## 🌐 Pages

1. **Home Page** (`/`)
   - Features a language-switching form for English (en) and German (de).
   - A welcoming entry point to your application.

2. **Cache Page** (`/cache`)
   - Optimizes performance by caching results from the `/api/getAppDate` endpoint on the server side.
   - Demonstrates the power of server-side caching.

## 🛠️ Setup and Usage

1. Clone this repository.

   ```bash
   git clone https://github.com/your-username/nextjs-13.5-app.git
   ```

2. Install dependencies.

    ```bash
    cd nextjs-13.5-app
    yarn install
    ```

3. Start the development server.
    ```bash
    yarn dev
    ```

4. Access your app at http://localhost:3000.

## 📝 License

This project is licensed under the MIT License.